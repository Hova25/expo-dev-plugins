{"version":3,"file":"useNetworkXHRAdapter.js","sourceRoot":"","sources":["../../src/adapters/useNetworkXHRAdapter.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,SAAS,EAAE,MAAM,OAAO,CAAC;AAElC,OAAO,cAAc,EAAE,EAAE,WAAW,EAAE,MAAM,0BAA0B,CAAC;AAEvE,MAAM,UAAU,oBAAoB,CAAC,MAAmC;IACtE,MAAM,eAAe,GAAG,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC;IACtD,qFAAqF;IACrF,SAAS,CAAC,GAAG,EAAE;QACb,KAAK,UAAU,KAAK;YAClB,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACxB,cAAc,CAAC,SAAS,GAAG,IAAI,cAAc,EAAE,CAAC;YAChD,2DAA2D;YAC3D,4CAA4C;YAC5C,+CAA+C;YAC/C,sCAAsC;YACtC,UAAU;YACV,2CAA2C;YAC3C,KAAK;YACL,gEAAgE;YAChE,2CAA2C;YAC3C,KAAK;QACP,CAAC;QAED,KAAK,UAAU,QAAQ;YACrB,mDAAmD;YACnD,+EAA+E;YAC/E,cAAc,CAAC,SAAS,GAAG,IAAI,WAAW,EAAE,CAAC;QAC/C,CAAC;QAED,KAAK,EAAE,CAAC;QACR,OAAO,GAAG,EAAE;YACV,QAAQ,EAAE,CAAC;QACb,CAAC,CAAC;IACJ,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;AACf,CAAC","sourcesContent":["import { DevToolsPluginClient } from 'expo/devtools';\nimport { useEffect } from 'react';\n\nimport InterceptedXHR, { originalXHR } from '../models/InterceptedXHR';\n\nexport function useNetworkXHRAdapter(client: DevToolsPluginClient | null) {\n  const originalOpenXHR = XMLHttpRequest.prototype.open;\n  // const originalOnReadyStateChangeXHR = XMLHttpRequest.prototype.onreadystatechange;\n  useEffect(() => {\n    async function setup() {\n      console.log('lkdlkdld');\n      XMLHttpRequest.prototype = new InterceptedXHR();\n      // XMLHttpRequest.prototype.open = function (method, url) {\n      //   console.log('test xhrrr', method, url);\n      //   // this.onreadystatechange = function(e) {\n      //   //   console.log(this.status, e);\n      //   // };\n      //   // return open.apply(this, arguments);\n      // };\n      // XMLHttpRequest.prototype.onreadystatechange = function (ev) {\n      //   console.log('tesst', this.readyState);\n      // };\n    }\n\n    async function teardown() {\n      // XMLHttpRequest.prototype.open = originalOpenXHR;\n      // XMLHttpRequest.prototype.onreadystatechange = originalOnReadyStateChangeXHR;\n      XMLHttpRequest.prototype = new originalXHR();\n    }\n\n    setup();\n    return () => {\n      teardown();\n    };\n  }, [client]);\n}\n"]}